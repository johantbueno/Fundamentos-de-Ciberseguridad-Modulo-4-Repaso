<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula Magistral: Fundamentos de Ciberseguridad</title>
    
    <!-- Fuentes y Estilos -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-green: #0aff0a;
            --neon-purple: #bc13fe;
            --neon-orange: #ff9d00;
            --dark-bg: #050505;
            --card-bg: rgba(20, 20, 35, 0.9);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #e0e0e0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-main);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- MATRIX BACKGROUND --- */
        #matrixCanvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.12;
        }

        /* --- SCROLLBAR --- */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--neon-blue); border-radius: 4px; }

        /* --- HEADER --- */
        header {
            background: rgba(5, 5, 5, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            padding: 1.5rem 1rem;
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 243, 255, 0.1);
        }

        .header-content {
            max-width: 1200px; margin: 0 auto;
            display: flex; justify-content: space-between; align-items: center;
        }

        .terminal-title {
            font-family: 'JetBrains Mono', monospace;
            color: var(--neon-green); font-size: 1.2rem; font-weight: 700;
        }

        .cursor { display: inline-block; width: 10px; background-color: var(--neon-green); animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        .btn-header {
            background: transparent; border: 1px solid var(--neon-blue); color: var(--neon-blue);
            padding: 0.5rem 1.2rem; border-radius: 4px; text-decoration: none;
            font-family: 'Orbitron', sans-serif; transition: 0.3s; font-size: 0.9rem;
            display: flex; align-items: center; gap: 8px;
        }
        .btn-header:hover { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px var(--neon-blue); }

        /* --- NAV TABS --- */
        .nav-wrapper {
            display: flex; justify-content: center; flex-wrap: wrap; gap: 10px;
            padding: 2rem 1rem; max-width: 1200px; margin: 0 auto;
        }

        .nav-tab {
            background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border);
            color: #aaa; padding: 10px 20px; border-radius: 4px; cursor: pointer;
            font-family: 'Orbitron', sans-serif; transition: all 0.3s ease;
            display: flex; align-items: center; gap: 8px; font-size: 0.9rem;
        }

        .nav-tab:hover { border-color: var(--neon-blue); color: #fff; }
        
        .nav-tab.active {
            background: rgba(0, 243, 255, 0.1);
            border-color: var(--neon-blue); color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
        }

        /* --- CONTENT --- */
        .container { max-width: 1000px; margin: 0 auto; padding: 0 1.5rem 5rem 1.5rem; }

        .section { display: none; animation: slideUp 0.5s ease; }
        .section.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- CARDS --- */
        .cyber-card {
            background: var(--card-bg); border: 1px solid var(--glass-border);
            margin-bottom: 1.5rem; border-radius: 8px; overflow: hidden;
            transition: 0.3s; position: relative;
        }

        .cyber-card::before {
            content: ''; position: absolute; left: 0; top: 0; height: 100%; width: 3px;
            background: var(--neon-blue); opacity: 0.5; transition: 0.3s;
        }

        .cyber-card:hover { border-color: rgba(0, 243, 255, 0.4); transform: translateX(5px); }
        .cyber-card:hover::before { opacity: 1; box-shadow: 0 0 10px var(--neon-blue); }

        .card-header {
            padding: 1.2rem 1.5rem; cursor: pointer; display: flex;
            justify-content: space-between; align-items: center; background: rgba(255,255,255,0.02);
        }

        .card-title { font-size: 1.1rem; font-weight: 700; color: #fff; display: flex; align-items: center; gap: 12px; }
        .card-icon { width: 30px; text-align: center; }

        .card-content {
            max-height: 0; overflow: hidden; transition: max-height 0.4s ease;
            background: rgba(0,0,0,0.3); border-top: 1px solid rgba(255,255,255,0.05);
        }

        .cyber-card.open .card-content { max-height: 2000px; } /* Increased for long content */
        .cyber-card.open .card-header i.toggle-icon { transform: rotate(180deg); color: var(--neon-blue); }

        .inner-padding { padding: 1.5rem; color: #ccc; line-height: 1.6; font-size: 0.95rem; }

        /* --- DEFINITION STYLES --- */
        .def-term { color: var(--neon-blue); font-weight: bold; }
        .def-box { 
            background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 6px; 
            border-left: 2px solid var(--neon-green); margin-bottom: 1rem; 
        }
        
        /* --- TABLES --- */
        .cyber-table { width: 100%; border-collapse: collapse; margin-top: 1rem; font-size: 0.9rem; }
        .cyber-table th { text-align: left; border-bottom: 1px solid var(--neon-blue); padding: 8px; color: var(--neon-blue); }
        .cyber-table td { border-bottom: 1px solid #333; padding: 8px; color: #ccc; }
        .cyber-table tr:hover td { background: rgba(255,255,255,0.05); }

        /* --- TAGS & BADGES --- */
        .badge {
            background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 4px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.8em; color: var(--neon-orange);
        }

        /* --- TOOLS & LABS --- */
        .tool-panel {
            background: #0a0a12; border: 1px solid #333; border-radius: 8px;
            padding: 1.5rem; margin-top: 1rem;
        }
        .tool-input {
            width: 100%; background: #151520; border: 1px solid #444; color: var(--neon-green);
            padding: 1rem; font-family: 'JetBrains Mono', monospace; border-radius: 6px; margin-bottom: 1rem;
        }
        .tool-output {
            background: #000; border-left: 3px solid var(--neon-purple); padding: 1rem;
            font-family: 'JetBrains Mono', monospace; color: #fff; min-height: 60px; word-break: break-all;
        }
        .tool-btn {
            background: #222; color: #fff; border: 1px solid #444; padding: 8px 16px;
            cursor: pointer; border-radius: 4px; font-size: 0.85rem; font-family: 'Orbitron', sans-serif;
        }
        .tool-btn:hover { border-color: var(--neon-blue); color: var(--neon-blue); }

        /* --- QUIZ --- */
        .quiz-container { background: rgba(0,0,0,0.3); border-radius: 12px; padding: 2rem; text-align: center; border: 1px solid #333; }
        .quiz-options { display: grid; grid-template-columns: 1fr; gap: 10px; margin-top: 20px; }
        .quiz-btn {
            background: rgba(255,255,255,0.05); border: 1px solid #444; padding: 15px;
            color: white; cursor: pointer; border-radius: 6px; text-align: left; transition: 0.2s;
        }
        .quiz-btn:hover { background: rgba(255,255,255,0.1); border-color: var(--neon-blue); }
        .quiz-btn.correct { background: rgba(10, 255, 10, 0.15); border-color: var(--neon-green); color: var(--neon-green); }
        .quiz-btn.wrong { background: rgba(255, 10, 10, 0.15); border-color: red; color: #ff5555; }

        @media (min-width: 768px) { .quiz-options { grid-template-columns: 1fr 1fr; } }
        @media print {
            body { background: #fff; color: #000; }
            #matrixCanvas, header, .nav-wrapper, .tool-panel { display: none; }
            .section { display: block !important; opacity: 1 !important; }
            .cyber-card { border: 1px solid #000; break-inside: avoid; box-shadow: none; margin-bottom: 20px; }
            .card-content { max-height: none !important; color: #000; }
            .card-title { color: #000; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
            .inner-padding { color: #000; }
        }
    </style>
</head>
<body>

    <canvas id="matrixCanvas"></canvas>

    <header>
        <div class="header-content">
            <div>
                <div class="terminal-title">
                    <span id="typewriter"></span><span class="cursor">_</span>
                </div>
                <div style="font-size: 0.8rem; color: #888; margin-top: 5px;">Dr. Johan Tapia, PhD | Repaso Final</div>
            </div>
            <div style="display:flex; gap:10px;">
                <button onclick="window.print()" class="btn-header"><i class="fas fa-print"></i> PDF</button>
                <a href="https://www.linkedin.com/in/johan-tapia-192183281/" target="_blank" class="btn-header">
                    <i class="fab fa-linkedin"></i> Contacto
                </a>
            </div>
        </div>
    </header>

    <div class="nav-wrapper">
        <button class="nav-tab active" onclick="switchTab('conceptos', this)"><i class="fas fa-shield-alt"></i> Conceptos</button>
        <button class="nav-tab" onclick="switchTab('amenazas', this)"><i class="fas fa-bug"></i> Amenazas</button>
        <button class="nav-tab" onclick="switchTab('crypto', this)"><i class="fas fa-key"></i> Cripto & Red</button>
        <button class="nav-tab" onclick="switchTab('incidentes', this)"><i class="fas fa-fire-extinguisher"></i> Incidentes</button>
        <button class="nav-tab" onclick="switchTab('forense-princ', this)"><i class="fas fa-balance-scale"></i> Forense: Principios</button>
        <button class="nav-tab" onclick="switchTab('forense-art', this)"><i class="fas fa-search"></i> Forense: Artefactos</button>
        <button class="nav-tab" onclick="switchTab('quiz', this)" style="border-color: var(--neon-purple); color: var(--neon-purple);"><i class="fas fa-gamepad"></i> Examen</button>
    </div>

    <div class="container">

        <!-- ================= CONCEPTOS ================= -->
        <div id="conceptos" class="section active">
            <div class="cyber-card open">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-landmark" style="color:var(--neon-blue)"></i></span>Integridad (Pilar CIA)</div>
                    <i class="fas fa-chevron-down toggle-icon" style="color:#666"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p><strong>Definici√≥n:</strong> Garantiza que la informaci√≥n es correcta, completa y no ha sido modificada por terceros no autorizados.</p>
                    <div class="def-box" style="margin-top:10px;">
                        <i class="fas fa-check-circle" style="color:var(--neon-green)"></i> Si un atacante modifica un archivo, ha violado la <strong>Integridad</strong>.
                    </div>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-exclamation-triangle" style="color:var(--neon-orange)"></i></span>Vulnerabilidad vs Amenaza vs Riesgo</div>
                    <i class="fas fa-chevron-down toggle-icon" style="color:#666"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <table class="cyber-table">
                        <tr><th>T√©rmino</th><th>Definici√≥n</th></tr>
                        <tr>
                            <td><span class="def-term">Vulnerabilidad</span></td>
                            <td>Debilidad o fallo en el sistema (ej. software sin parchear).</td>
                        </tr>
                        <tr>
                            <td><span class="def-term">Amenaza</span></td>
                            <td>Acci√≥n o evento que aprovecha una debilidad (ej. un hacker).</td>
                        </tr>
                        <tr>
                            <td><span class="def-term">Riesgo</span></td>
                            <td>Probabilidad de que una amenaza explote una vulnerabilidad causando impacto.</td>
                        </tr>
                    </table>
                </div></div>
            </div>
        </div>

        <!-- ================= AMENAZAS ================= -->
        <div id="amenazas" class="section">
            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-skull" style="color:#ff4444"></i></span>Tipos de Malware</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <table class="cyber-table">
                        <tr><th>Malware</th><th>Comportamiento Clave</th></tr>
                        <tr>
                            <td><strong>Ransomware</strong></td>
                            <td><span class="badge">Cifrado</span> Cifra archivos y pide rescate econ√≥mico.</td>
                        </tr>
                        <tr>
                            <td><strong>Spyware</strong></td>
                            <td><span class="badge">Espionaje</span> Recopila info sin consentimiento.</td>
                        </tr>
                        <tr>
                            <td><strong>Botnet</strong></td>
                            <td><span class="badge">Zombis</span> Red de equipos controlados remotamente.</td>
                        </tr>
                        <tr>
                            <td><strong>Rootkit</strong></td>
                            <td><span class="badge">Ocultaci√≥n</span> Se oculta en el kernel/sistema (Hooking).</td>
                        </tr>
                    </table>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-box" style="color:#ffcc00"></i></span>Empaquetado (Packing)</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p>T√©cnica usada por creadores de malware.</p>
                    <p><strong>Prop√≥sito:</strong> Ofuscar el c√≥digo, comprimirlo y cifrarlo para <strong>evadir la detecci√≥n de antivirus</strong> y dificultar el an√°lisis est√°tico.</p>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-user-secret" style="color:var(--neon-purple)"></i></span>Ingenier√≠a Social</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p><strong>Phishing:</strong> Correos enga√±osos suplantando identidad.</p>
                    <p><strong>Objetivo:</strong> Robar credenciales o datos mediante enga√±o (el eslab√≥n m√°s d√©bil es el humano).</p>
                </div></div>
            </div>
        </div>

        <!-- ================= CRIPTO & RED ================= -->
        <div id="crypto" class="section">
             <!-- Interactive Lab -->
             <div class="tool-panel">
                <h3 style="color:var(--neon-blue); margin-bottom:10px;">üß™ Laboratorio: UserAssist Decoder (ROT13)</h3>
                <p style="font-size:0.8rem; color:#aaa; margin-bottom:10px;">UserAssist usa ROT13 para ofuscar nombres de programas ejecutados.</p>
                <input type="text" id="rotInput" class="tool-input" placeholder="Escribe algo (ej: cmd.exe) para aplicar ROT13..." oninput="applyRot13()">
                <div id="rotOutput" class="tool-output">Resultado...</div>
            </div>
            <br>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-key"></i></span>Criptograf√≠a Asim√©trica & Firmas</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <ul style="list-style: none;">
                        <li style="margin-bottom:10px;">üîí <strong>Confidencialidad:</strong> Juan cifra con la <span class="badge">Clave P√∫blica de Ana</span>. Solo Ana puede descifrar con su Privada.</li>
                        <li style="margin-bottom:10px;">‚úçÔ∏è <strong>Firma Digital:</strong> Garantiza <strong>Autenticidad, Integridad y No Repudio</strong> (NO Confidencialidad).</li>
                        <li>#Ô∏è‚É£ <strong>Hash:</strong> Unidireccional. Si cambia un bit, cambia todo el hash.</li>
                    </ul>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-network-wired"></i></span>Red y Anonimato</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p><strong style="color:var(--neon-green)">VPN:</strong> Crea un t√∫nel cifrado en redes p√∫blicas.</p>
                    <p><strong style="color:var(--neon-purple)">TOR:</strong> Protege el anonimato enrutando por m√∫ltiples nodos (capas de cebolla).</p>
                    <p><strong style="color:var(--neon-orange)">Logs DHCP:</strong> Asocian una IP a una direcci√≥n MAC f√≠sica en un momento dado (Atribuci√≥n).</p>
                </div></div>
            </div>
        </div>

        <!-- ================= INCIDENTES ================= -->
        <div id="incidentes" class="section">
            <div class="cyber-card open">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-tasks"></i></span>Fases de Respuesta (NIST)</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <div style="border-left: 2px solid var(--neon-blue); padding-left:15px; margin-bottom:15px;">
                        <h4 style="color:#fff">1. Contenci√≥n üõë</h4>
                        <p>Objetivo: Detener la propagaci√≥n. Limitar el alcance (desconectar red).</p>
                    </div>
                    <div style="border-left: 2px solid var(--neon-green); padding-left:15px; margin-bottom:15px;">
                        <h4 style="color:#fff">2. Erradicaci√≥n üßπ</h4>
                        <p>Objetivo: <strong>Eliminar la amenaza</strong> (borrar malware, cerrar cuentas, parchar).</p>
                    </div>
                    <div class="def-box">
                        <strong>Informe:</strong> El Resumen Ejecutivo debe evitar jerga t√©cnica excesiva.
                    </div>
                </div></div>
            </div>
        </div>

        <!-- ================= FORENSE PRINCIPIOS ================= -->
        <div id="forense-princ" class="section">
            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-sort-amount-down"></i></span>Orden de Volatilidad (RFC 3227)</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p>Recolecci√≥n de lo m√°s fugaz a lo m√°s permanente:</p>
                    <ol style="margin-left:20px; color:var(--neon-green);">
                        <li><strong>Memoria RAM</strong> (Se pierde al apagar).</li>
                        <li><strong>Disco Duro</strong> (Datos persistentes).</li>
                        <li><strong>Backups / Archivos</strong>.</li>
                    </ol>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-link"></i></span>Fundamentos Legales</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p><strong>Cadena de Custodia:</strong> Documentaci√≥n cronol√≥gica vital para garantizar la integridad y validez legal.</p>
                    <p><strong>Write Blocker:</strong> Hardware que impide modificar el disco de evidencia al conectarlo.</p>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-microscope"></i></span>Tipos de An√°lisis</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <p><strong>Est√°tico:</strong> Analizar c√≥digo/estructura SIN ejecutarlo.</p>
                    <p><strong>Din√°mico:</strong> Ejecutar y observar (Process Monitor - ProcMon).</p>
                    <p><strong>Time Stomping:</strong> T√©cnica anti-forense que modifica fechas de archivos para ocultarlos.</p>
                </div></div>
            </div>
        </div>

        <!-- ================= FORENSE ARTEFACTOS (WINDOWS) ================= -->
        <div id="forense-art" class="section">
            <div class="cyber-card open">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-database"></i></span>Registro de Windows (Hives)</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <table class="cyber-table">
                        <tr><th>Hive</th><th>Contenido</th></tr>
                        <tr><td>HKLM</td><td>Local Machine: Config global y hardware.</td></tr>
                        <tr><td>HKCU</td><td>Current User: Usuario actual logueado.</td></tr>
                        <tr><td>HKU</td><td>Users: Todos los perfiles.</td></tr>
                        <tr><td>HKCC</td><td>Current Config: Perfil de hardware actual.</td></tr>
                    </table>
                    <p style="margin-top:10px;"><strong>Shellbags:</strong> Prueban acceso a carpetas (incluso USBs desconectados).</p>
                    <p><strong>UserAssist:</strong> Ejecuci√≥n de programas (usa ROT13).</p>
                </div></div>
            </div>

            <div class="cyber-card">
                <div class="card-header" onclick="toggleCard(this)">
                    <div class="card-title"><span class="card-icon"><i class="fas fa-file-alt"></i></span>Archivos de Sistema</div>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </div>
                <div class="card-content"><div class="inner-padding">
                    <ul style="list-style:none;">
                        <li>üíæ <strong>$MFT:</strong> Tabla Maestra de Archivos. √çndice central de NTFS con metadatos.</li>
                        <li>üóëÔ∏è <strong>Papelera:</strong> 
                            <br>&nbsp;&nbsp;üìÑ <code>$I</code> (Metadatos/Ruta)
                            <br>&nbsp;&nbsp;üìÑ <code>$R</code> (Contenido real)
                        </li>
                        <li>üöÄ <strong>Prefetch (.pf):</strong> Prueba ejecuci√≥n (Nombre, fecha, frecuencia).</li>
                        <li>üí§ <strong>Hiberfil.sys:</strong> Copia comprimida de RAM al hibernar.</li>
                        <li>üìÉ <strong>Pagefile.sys:</strong> Memoria virtual en disco (datos vol√°tiles).</li>
                        <li>üÜî <strong>Event ID 4624:</strong> Inicio de sesi√≥n exitoso.</li>
                    </ul>
                </div></div>
            </div>
        </div>

        <!-- ================= QUIZ ================= -->
        <div id="quiz" class="section">
            <div class="quiz-container">
                <h2 style="color:var(--neon-blue)">Simulador de Examen</h2>
                <div id="quiz-box">
                    <p id="question-text" style="font-size:1.1rem; margin: 20px 0; min-height:60px;">Pregunta...</p>
                    <div id="options-container" class="quiz-options"></div>
                    <p id="feedback" style="margin-top:20px; font-weight:bold; height:20px;"></p>
                    <button onclick="nextQuestion()" id="next-btn" class="tool-btn" style="display:none; margin: 20px auto;">Siguiente ‚û°Ô∏è</button>
                </div>
                <div id="score-box" style="display:none;">
                    <h2 id="final-score" style="font-size:2rem; color:var(--neon-green)"></h2>
                    <button onclick="restartQuiz()" class="tool-btn">Reiniciar</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- TYPEWRITER ---
        const text = ">> Accessing Cybersec Knowledge Base...";
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                document.getElementById("typewriter").innerHTML += text.charAt(i);
                i++; setTimeout(typeWriter, 50);
            }
        }
        
        // --- TABS & ACCORDION ---
        function switchTab(tabId, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
        }
        
        function toggleCard(header) { header.parentElement.classList.toggle('open'); }

        // --- ROT13 TOOL ---
        function applyRot13() {
            const input = document.getElementById('rotInput').value;
            const output = input.replace(/[a-zA-Z]/g, function (c) {
                return String.fromCharCode((c <= "Z" ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26);
            });
            document.getElementById('rotOutput').innerText = output || "Resultado...";
        }

        // --- EXAM QUESTIONS (FROM YOUR FILE) ---
        const questions = [
            { q: "¬øQu√© pilar garantiza que la info no ha sido modificada?", a: ["Integridad", "Confidencialidad", "Disponibilidad"], c: 0 },
            { q: "Diferencia: Vulnerabilidad vs Amenaza", a: ["Vuln. es debilidad interna, Amenaza es acci√≥n externa", "Son sin√≥nimos", "Amenaza es siempre interna"], c: 0 },
            { q: "¬øQu√© malware pide rescate econ√≥mico?", a: ["Spyware", "Ransomware", "Adware"], c: 1 },
            { q: "Para enviar confidencial a Ana (Asim√©trico), ¬øcon qu√© cifro?", a: ["Privada de Ana", "P√∫blica de Ana", "P√∫blica de Juan"], c: 1 },
            { q: "Prop√≥sito de Firma Digital", a: ["Confidencialidad", "Autenticidad e Integridad", "Cifrar el disco"], c: 1 },
            { q: "Caracter√≠stica fundamental de un Hash", a: ["Es reversible", "Es unidireccional", "Longitud variable"], c: 1 },
            { q: "¬øQu√© fase elimina la amenaza (borrar malware)?", a: ["Contenci√≥n", "Erradicaci√≥n", "Recuperaci√≥n"], c: 1 },
            { q: "Orden de Volatilidad correcto", a: ["Disco -> RAM", "RAM -> Disco -> Backup", "Backup -> RAM"], c: 1 },
            { q: "¬øQu√© hace un Write Blocker?", a: ["Impide escritura en evidencia", "Cifra datos", "Borra malware"], c: 0 },
            { q: "Clave de Registro para el Usuario Actual", a: ["HKLM", "HKCU", "HKCC"], c: 1 },
            { q: "¬øQu√© guarda Prefetch (.pf)?", a: ["Ejecuci√≥n de apps (nombre, fecha)", "Texto de Word", "Historial web"], c: 0 },
            { q: "Archivos creados en Papelera (Win 7+)", a: ["$Deleted y $Real", "$I (meta) y $R (data)", "Solo $Trash"], c: 1 },
            { q: "¬øQu√© t√©cnica usa UserAssist para ocultar nombres?", a: ["AES", "ROT13", "Base64"], c: 1 },
            { q: "¬øQu√© hace el Time Stomping?", a: ["Borra logs", "Modifica fechas de archivos", "Cifra RAM"], c: 1 },
            { q: "Event ID 4624 significa:", a: ["Login Fallido", "Login Exitoso", "Servicio Creado"], c: 1 }
        ];

        let currentQ = 0, score = 0;

        function loadQuestion() {
            const q = questions[currentQ];
            document.getElementById('question-text').innerText = (currentQ + 1) + ". " + q.q;
            const opts = document.getElementById('options-container');
            opts.innerHTML = '';
            q.a.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'quiz-btn'; btn.innerText = opt;
                btn.onclick = () => checkAnswer(idx, btn);
                opts.appendChild(btn);
            });
        }

        function checkAnswer(idx, btn) {
            const btns = document.querySelectorAll('.quiz-btn');
            btns.forEach(b => b.disabled = true);
            if(idx === questions[currentQ].c) {
                btn.classList.add('correct'); score++;
                document.getElementById('feedback').innerHTML = "<span style='color:var(--neon-green)'>¬°Correcto!</span>";
            } else {
                btn.classList.add('wrong');
                btns[questions[currentQ].c].classList.add('correct');
                document.getElementById('feedback').innerHTML = "<span style='color:red'>Incorrecto</span>";
            }
            document.getElementById('next-btn').style.display = 'block';
        }

        function nextQuestion() {
            currentQ++;
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('feedback').innerText = "";
            if(currentQ < questions.length) loadQuestion();
            else showScore();
        }

        function showScore() {
            document.getElementById('quiz-box').style.display = 'none';
            document.getElementById('score-box').style.display = 'block';
            document.getElementById('final-score').innerText = `${score} / ${questions.length}`;
        }

        function restartQuiz() {
            currentQ = 0; score = 0;
            document.getElementById('score-box').style.display = 'none';
            document.getElementById('quiz-box').style.display = 'block';
            loadQuestion();
        }

        // --- MATRIX EFFECT ---
        window.onload = function() {
            typeWriter(); loadQuestion();
            const cvs = document.getElementById('matrixCanvas'), ctx = cvs.getContext('2d');
            cvs.width = window.innerWidth; cvs.height = window.innerHeight;
            const cols = cvs.width/20, drops = Array(Math.floor(cols)).fill(1);
            setInterval(() => {
                ctx.fillStyle = 'rgba(0,0,0,0.05)'; ctx.fillRect(0,0,cvs.width,cvs.height);
                ctx.fillStyle = '#0F0'; ctx.font = '15px monospace';
                drops.forEach((y, i) => {
                    ctx.fillText(String.fromCharCode(0x30A0+Math.random()*96), i*20, y*20);
                    if(y*20 > cvs.height && Math.random()>0.975) drops[i]=0;
                    drops[i]++;
                });
            }, 50);
        };
    </script>
</body>
</html>
